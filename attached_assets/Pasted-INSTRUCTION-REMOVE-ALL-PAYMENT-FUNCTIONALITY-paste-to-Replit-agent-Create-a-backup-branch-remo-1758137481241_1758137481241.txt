INSTRUCTION — REMOVE ALL PAYMENT FUNCTIONALITY (paste to Replit agent)

Create a backup branch, remove all Stripe/payment code, strip secrets, remove Stripe webhooks, and deploy a payment-free build.

Do this exactly, in order:

Create branch and backup

git checkout -b remove-payments-$(date +%Y%m%d%H%M)
git push -u origin HEAD


Find all payment-related files (review the list BEFORE deletion)

git grep -In --break --line-number "stripe\|create-checkout-session\|checkout.session\|webhook\|payment\|checkout" || true


Reply with that list if you want me to confirm before deletion.

Remove identified payment files/routes and client handlers (after human review)
Example removal command (run only after step 2 review):

# delete files whose sole purpose is payments (edit list from step 2)
git rm -v path/to/payment-route.js path/to/create-checkout-session.js path/to/webhook-handler.js path/to/client/checkout.js


Remove Stripe from dependencies and reinstall

# remove package.json entry and node_modules copy
jq 'del(.dependencies.stripe, .devDependencies.stripe)' package.json > package.json.tmp && mv package.json.tmp package.json
npm prune && npm install


Remove all Stripe-related code imports/usages from remaining files (minimum: remove imports and route registrations)

# show occurrences for manual edit
git grep -n "require('stripe'|from 'stripe'|stripe\.)" || true
# after manual edits, run tests/lint


Delete Replit/Render secrets for Stripe (do not replace with placeholders)

Remove: STRIPE_SECRET_KEY, STRIPE_SECRET_KEY_NEW, VITE_STRIPE_PUBLISHABLE_KEY, STRIPE_WEBHOOK_SECRET, any STRIPE_* secrets.

Remove Stripe webhook endpoints in Stripe Dashboard (if you have Stripe access):

Dashboard → Developers → Webhooks → delete/disable any endpoints referencing your domain.
(If you don’t have Stripe access, report the endpoint IDs here and I’ll tell you exact next steps.)

Revoke / rotate API keys in Stripe (if you control the Stripe account):

Revoke old sk_... keys used by this project (Dashboard → Developers → API keys).
(If you cannot access Stripe, tell me and I’ll give exact text to paste to the Stripe account owner.)

Replace checkout UI with a disabled state (one-line change)
In the client page where the Buy button exists, replace the click handler with this to prevent calls:

<button id="buyBtn" disabled>Purchases disabled — contact admin</button>


Replace any automatic credit-granting logic with a safe admin route (optional temporary)

// admin-only manual crediting (requires auth)
app.post('/admin/grant-credits', express.json(), async (req,res) => {
  // verify admin auth, then update DB
  res.send('ok');
});


Commit, push, open PR, deploy to staging, smoke-test, merge main

git add -A
git commit -m "chore: remove all payment/Stripe functionality"
git push origin HEAD
# create PR, deploy to staging, verify UI no longer calls payment endpoints


Final cleanup (after deployment success)

Remove any scheduled jobs/cron related to payments.

Update README / pricing pages to remove payment references.

Close or disable old webhook endpoints in Stripe (if not done in step 7).

If required, delete old payment product/price objects from Stripe only after confirming no remaining obligations.